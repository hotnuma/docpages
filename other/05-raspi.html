<p><link href="../style.css" rel="stylesheet"></link></p>

<p><strong>[ <a href="../index.html">Home</a> | <a href="00-install.html">Install</a> | Raspi | <a href="10-lite.html">Lite</a> | <a href="15-gpio.html">Gpio</a> | <a href="20-build.html">Build</a> ]</strong></p>

<h2>Raspi</h2>

<hr>

<h4>References</h4>

<ul>
<li><p>Raspi</p>

<p><a href="https://www.raspberrypi.com/documentation/">https://www.raspberrypi.com/documentation/</a>  </p>

<p><a href="https://github.com/orgs/raspberrypi-ui/repositories">https://github.com/orgs/raspberrypi-ui/repositories</a><br>
<a href="https://github.com/orgs/raspberrypi/repositories">https://github.com/orgs/raspberrypi/repositories</a><br>
<a href="https://github.com/orgs/RPi-Distro/repositories">https://github.com/orgs/RPi-Distro/repositories</a>  </p></li>
<li><p>Labwc</p>

<p><a href="https://github.com/labwc/labwc/commits/master/">https://github.com/labwc/labwc/commits/master/</a><br>
<a href="https://labwc.github.io/getting-started.html">https://labwc.github.io/getting-started.html</a><br>
<a href="https://wiki.archlinux.org/title/Labwc">https://wiki.archlinux.org/title/Labwc</a>  </p></li>
</ul>

<h4>System Install</h4>

<ul>
<li><p>RaspiOS Lite 64</p>

<p><a href="https://www.raspberrypi.com/software/operating-systems/#raspberry-pi-os-64-bit">raspberry-pi-os-64-bit</a>  </p>

<p>Download RaspiOS Lite 64 bits and copy the image :</p>

<p><em>replace /dev/sdX with the corresponding device, for example /dev/sdc</em></p>

<pre><code>sha256sum ./raspios64-lite.img.xz
unxz ./raspios64-lite.img.xz
lsblk
umount /dev/sdX?
sudo dd if=/dev/zero of=/dev/sdX bs=512 count=1 conv=notrunc
sudo dd if=./raspios64-lite.img of=/dev/sdX bs=4M conv=fsync status=progress
</code></pre></li>
<li><p>Upgrade packages</p>

<pre><code>sudo apt update &amp;&amp; sudo apt full-upgrade
sudo apt purge rpicam-apps-lite rpi-connect-lite libpisp1
sudo dpkg-reconfigure tzdata  
sudo dpkg-reconfigure locales  
sync
reboot
</code></pre></li>
<li><p>Switch to Unstable</p>

<p><code>sudo nano /etc/apt/sources.list</code></p>

<pre><code>deb http://deb.debian.org/debian unstable main contrib non-free non-free-firmware
deb-src http://deb.debian.org/debian unstable main contrib non-free non-free-firmware
</code></pre>

<pre><code>sudo apt update &amp;&amp; sudo apt full-upgrade
sync
reboot
</code></pre>

<p><a href="https://forums.raspberrypi.com/viewtopic.php?t=335951#p2036878">https://forums.raspberrypi.com/viewtopic.php?t=335951#p2036878</a>  </p>

<pre><code>Package: *
Pin: release a=unstable
Pin-Priority: 800

Package: *
Pin: origin &quot;archive.raspberry.org&quot;
Pin-Priority: 200
</code></pre></li>
<li><p>Install XFCE</p>

<p><code>sudo apt install tasksel</code></p>

<p><code>sudo tasksel</code></p>

<p>(select debian desktop and xfce)</p>

<pre><code>sudo apt install gldriver-test
sudo apt purge plymouth
sudo systemctl set-default graphical.target
sync
reboot
</code></pre></li>
</ul>

<h4>Manual configuration</h4>

<ul>
<li><p>Common settings</p>

<p><a href="https://hotnuma.github.io/docpages/other/00-install.html#common">https://hotnuma.github.io/docpages/other/00-install.html#common</a>  </p></li>
<li><p>Change border size with Labwc</p>

<p>create overrride file : <code>nano ~/.config/labwc/themerc-override</code></p>

<pre><code>border.width: 3
</code></pre></li>
<li><p>Enable menu icons</p>

<p>create Gtk settings file : <code>nano ~/.config/gtk-3.0/settings.ini</code></p>

<pre><code>[Settings]
gtk-button-images=1
gtk-menu-images=1
</code></pre></li>
<li><p>Hide bootloader screen</p>

<p><a href="https://forums.raspberrypi.com/viewtopic.php?t=394290#p2351439">https://forums.raspberrypi.com/viewtopic.php?t=394290#p2351439</a>  </p></li>
<li><p>Install Raspi&#39;s Firefox</p>

<p><code>sudo apt install --no-install-recommends firefox rpi-firefox-mods</code></p></li>
<li><p>Firefox and static ip</p>

<p><a href="https://hotnuma.github.io/docpages/linux/11-network.html">https://hotnuma.github.io/docpages/linux/11-network.html</a>  </p>

<p>Disable hardware acceleration.</p></li>
<li><p>Mpv Configuration</p>

<p><a href="https://forums.raspberrypi.com/viewtopic.php?t=360902">https://forums.raspberrypi.com/viewtopic.php?t=360902</a>  </p>

<pre><code>ytdl-format=bestvideo[height&lt;=?480]+bestaudio/best
vo=gpu
gpu-api=opengl
gpu-dumb-mode=yes
hwdec=drm-copy
</code></pre></li>
<li><p>Uninstall programs</p>

<p><code>sudo apt purge cloud-init cups* netplan.io network-manager rpicam-apps-lite rpi-connect-lite</code></p></li>
<li><p>Xfce Configuration</p>

<p><a href="https://wiki.archlinux.org/title/Xfwm">https://wiki.archlinux.org/title/Xfwm</a>  </p>

<p><code>xfconf-query -c xfce4-panel -p /force-all-internal -t bool -s true --create</code></p></li>
</ul>

<h4>System Startup</h4>

<ul>
<li><p>Lightdm config</p>

<p><a href="https://wiki.archlinux.org/title/LightDM">https://wiki.archlinux.org/title/LightDM</a>  </p>

<p><code>cat /etc/lightdm/lightdm.conf</code></p>

<pre><code>[Seat:*]
autologin-guest=false
autologin-user=hotnuma
autologin-user-timeout=0
#autologin-session=lightdm-xsession
autologin-session=labwc
</code></pre>

<p>show current config : <code>lightdm --show-config</code></p></li>
<li><p>Wayland sessions</p>

<pre><code>ls /usr/share/wayland-sessions/

labwc.desktop
</code></pre></li>
</ul>

<h4>Gpio</h4>

<ul>
<li><p>Reference</p>

<p><a href="https://pinout.xyz/">https://pinout.xyz/</a><br>
<a href="https://libgpiod.readthedocs.io/en/latest/index.html">https://libgpiod.readthedocs.io/en/latest/index.html</a><br>
<a href="https://forums.raspberrypi.com/viewtopic.php?t=394138">https://forums.raspberrypi.com/viewtopic.php?t=394138</a>  </p>

<p>list chips : <code>gpiodetect</code><br>
scan chip0 : <code>gpioinfo -c 0</code>  </p></li>
<li><p>Enable i2c</p>

<pre><code>sudo apt install i2c-tools
sudo raspi-config
(enable arm i2c)
i2cdetect -y 1
</code></pre></li>
</ul>

<h4>Other</h4>

<ul>
<li><p>apt-file</p>

<pre><code>sudo apt install apt-file
sudo apt-file update
</code></pre></li>
<li><p>EEPROM settings</p>

<p><a href="https://www.raspberrypi.com/documentation/computers/raspberry-pi.html#raspberry-pi-bootloader-configuration">https://www.raspberrypi.com/doc...bootloader-configuration</a>  </p>

<p><code>sudo rpi-eeprom-config -e</code></p>

<p>POWER_OFF_ON_HALT=1</p></li>
<li><p>Fix swap file</p>

<p><a href="https://forums.raspberrypi.com/viewtopic.php?t=314530">https://forums.raspberrypi.com/viewtopic.php?t=314530</a>  </p></li>
<li><p>Fix Xorg black screen</p>

<p><code>sudo apt install gldriver-test</code></p></li>
<li><p>Get board version</p>

<p><a href="https://forums.raspberrypi.com/viewtopic.php?t=34678">https://forums.raspberrypi.com/viewtopic.php?t=34678</a><br>
<a href="https://forums.raspberrypi.com/viewtopic.php?t=200059">https://forums.raspberrypi.com/viewtopic.php?t=200059</a>  </p>

<pre><code>ARCH=$(uname -m)
VERSION=$(cat /etc/debian_version)
cat /proc/cpuinfo
cat /etc/*-release
cat /proc/device-tree/model
cat /sys/firmware/devicetree/base/model
</code></pre></li>
<li><p>Kernel 6.18</p>

<p><a href="https://forums.raspberrypi.com/viewtopic.php?t=394580">https://forums.raspberrypi.com/viewtopic.php?t=394580</a>  </p></li>
<li><p>Mouse lag</p>

<p><a href="https://github.com/labwc/labwc/discussions/1810">https://github.com/labwc/labwc/discussions/1810</a><br>
<a href="https://github.com/raspberrypi/bookworm-feedback/issues/65">https://github.com/raspberrypi/bookworm-feedback/issues/65</a>  </p></li>
<li><p>Oak Raspberry Pi Case</p>

<p><a href="https://www.instructables.com/Oak-Raspberry-Pi-case-for-under-10/">https://www.instructables.com/Oak-Raspberry-Pi...</a>  </p></li>
<li><p>Read system infos</p>

<pre><code>uname -a
rpi-eeprom-config
vcgencmd bootloader_config
vcgencmd bootloader_version
vcgencmd measure_clock arm
vcgencmd measure_temp
vcgencmd version
</code></pre></li>
<li><p>Set resolution to 1366</p>

<p>prepend in labwc/autostart :</p>

<p><code>wlr-randr --output HDMI-A-1 --custom-mode 1360x768 &amp;</code></p></li>
<li><p>Test CPU load</p>

<p><code>sysbench cpu --threads=4 --time=30 run</code></p>

<p><code>stress-ng --cpu 0 --cpu-method fft</code></p></li>
<li><p>USB Chipset</p>

<p><a href="https://forums.raspberrypi.com/viewtopic.php?t=245931">https://forums.raspberrypi.com/viewtopic.php?t=245931</a><br>
<a href="https://forums.raspberrypi.com/viewtopic.php?t=326157">https://forums.raspberrypi.com/viewtopic.php?t=326157</a>  </p>

<pre><code>That&#39;s true for most of the JMS578 family of USB 3.0 bridge chips,
but not necessarily with the 580 series USB 3.1 chips.
I have a USB 3.1 Gen 2 enclosure with a JMS583 chip that works
fine with Pi computers. It supports UASP in RPiOS, and TRIM works
with a udev rule.
</code></pre></li>
<li><p>XL4016E1 Buck converter</p>

<p><a href="https://www.az-delivery.de/fr/products/xh-m401-dc-dc-step-down-xl4016e1-poti">https://www.az-delivery.de/fr/products/xh-m401-dc-dc-step-do</a>  </p></li>
</ul>

<p><br/></p>
