<p><link href="../style.css" rel="stylesheet"></link></p>

<p><strong>[ <a href="../index.html">Home</a> | Raspi ]</strong></p>

<h2>Raspi</h2>

<hr>

<!--
https://askubuntu.com/questions/98223/  
https://www.guyrutenberg.com/2022/03/19/list-obsolete-packages-using-apt/  
https://linux.debian.bugs.dist.narkive.com/bpw1NCJt/  
-->

<h4>Install RaspiOS Lite 64</h4>

<ul>
<li><p>Copy image</p>

<p><em>replace sdX with the corresponding device, for example sdc</em></p>

<pre><code>unxz ./raspios64-lite.img.xz
lsblk
umount /dev/sdX?
sudo dd if=./raspios64-lite.img of=/dev/sdX bs=4M conv=fsync status=progress
</code></pre></li>
<li><p>Upgrade</p>

<pre><code>sudo raspi-config
(change locale and timezone)
sudo apt update &amp;&amp; sudo apt upgrade
reboot
</code></pre></li>
<li><p>Switch to Trixie</p>

<p><code>sudo nano /etc/apt/sources.list.d/raspi.list</code></p>

<p>comment the repository like so :</p>

<pre><code>#deb http://archive.raspberrypi.com/debian/ bookworm main
# Uncomment line below then &#39;apt-get update&#39; to enable &#39;apt-get source&#39;
#deb-src http://archive.raspberrypi.com/debian/ bookworm main
</code></pre>

<p>edit sources.list : </p>

<p><code>sed -i.bak s/bookworm/trixie/g /etc/apt/sources.list</code></p>

<pre><code>sudo apt update &amp;&amp; sudo apt upgrade
sudo apt full-upgrade
reboot
</code></pre></li>
<li><p>Install XFCE</p>

<pre><code>sudo tasksel
(select debian desktop and xfce)

sudo systemctl set-default graphical.target
sudo apt purge plymouth
sudo apt install labwc swaybg kanshi
reboot
</code></pre>

<p>from XFCE desktop :</p>

<p><a href="https://labwc.github.io/getting-started.html">https://labwc.github.io/getting-started.html</a>  </p>

<p>create configuration files for labwc in ~/.config/labwc<br>
reboot and select the labwc session  </p></li>
</ul>

<h4>Install Debian Trixie</h4>

<ul>
<li><p>Installation</p>

<p>Download an image from daily builds : <a href="https://raspi.debian.net/daily-images/">https://raspi.debian.net/daily-images/</a>  </p>

<p>Default user is <strong>root</strong> with empty password.</p>

<pre><code>apt update &amp;&amp; apt upgrade
apt install sudo debconf kbd locales

dpkg-reconfigure tzdata
dpkg-reconfigure locales

useradd -s /bin/bash -d /home/&lt;username&gt; -m &lt;username&gt;
passwd &lt;username&gt;
usermod -aG sudo &lt;username&gt;
reboot

(log as new user)
sudo tasksel
(select debian desktop and xfce)
sudo reboot

sudo apt purge plymouth
sudo apt install labwc swaybg kanshi
</code></pre>

<p><a href="https://labwc.github.io/getting-started.html">https://labwc.github.io/getting-started.html</a><br>
create configuration files for labwc in ~/.config/labwc  </p>

<p>Add hostname manually in /etc/hosts :</p>

<pre><code>127.0.0.1   localhost
127.0.1.1   &lt;hostname&gt;
::1 localhost ip6-localhost ip6-loopback
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
</code></pre>

<p>reboot and use labwc session on startup</p></li>
</ul>

<h4>Manual configuration</h4>

<ul>
<li><p>Menu icons</p>

<p>create settings.ini into ~/.config/gtk-3.0 :</p>

<pre><code>[Settings]
gtk-button-images=1
gtk-menu-images=1
</code></pre></li>
<li><p>XFCE panel</p>

<p>force all plugins to run as internal:</p>

<p><code>xfconf-query -c xfce4-panel -p /force-all-internal -t bool -s true --create</code></p></li>
</ul>

<p><br/></p>
